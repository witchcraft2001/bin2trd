bin2trd - Binary & Hobeta files to TRD (c)1999, Copper Feet
2002 - Modified for Linux by Alexander Shabarshin <me@shaos.net>
2018 - Translated to English by Shaos
2021 - Sprinter version by Dmitry Mikhaltchenkov <mikhaltchenkov@gmail.com>

    Cоздание .TRD файлов из двоичных и hobeta файлов (v1.0)
      Binary & Hobeta files --> .TRD (c)1999, Copper Feet
		  Автор Вячеслав Медноногов

			  * * * * *

    Вызов:
      bin2trd.exe <файл-дескриптор>.TRL

    Файл-дескриптор описывает структуру создаваемого образа диска (TRD).
Используются следующие директивы описания:

NORMAL "label"
EXTENDED "label"
BINARY "MSDOSfile","TRDOSname","type",start_address
HOBETA "HOBETAfile","TRDOSname","type",start_address

    NORMAL и EXTENDED описывают тип файла образа диска. NORMAL - стандартный
файл (фиксированной длины, равной 655.360 байт), как его задумал ещё сам
Николай Шалаев. EXTENDED - образ диска "плавающей" длины, обрезается по
последнему использованому TR-DOS сектору. Кроме того, в нём разрешено
использовать не 80 треков (как обычно), а 255. Поэтому максимально такой
файл может сохранить 2.088.960 байт спектрумовской информации. Метка TR-DOS
диска ("label"), должна содержать не более 8 любых символов, заключённых
в кавычки. Метка может быть пропущена (в этом случае диск получает метку
"nonamed").
    NORMAL или EXTENDED должны встречаться в описании только один раз. Или
вообще не встречаться - в этом случае по умолчанию принят тип NORMAL.

    BINARY включает в образ диска любой двоичный файл (с длиной файла от 1
до 65535 байт) и автоматически вставляет его описание в каталог TR-DOS
диска. По умолчанию имя TR-DOS файла является копией имени исходного MS-DOS
файла (без расширения), тип - "C", а стартовый адрес принимается равным 0.
    HOBETA включает в образ диска hobeta-файл с именем "HOBETAname" и
также автоматически вставляет его описание в каталог образа TR-DOS диска.
Все параметры берутся из hobeta-заголовка,
    И для BINARY, и для HOBETA имя TR-DOS файла, его тип и стартовый адрес
могут быть заменены соответствующими значениями из строки параметров
директивы. Если параметр пропущен, необходимо поставить запятую.
    Файлы копируются в образ диска в порядке их следования в файле описания.
Если ни одна директива BINARY или HOBETA не встречена, создаётся чистый
TR-DOS диск.

    В файл описания можно включать комментарии, отделённые символом ";".
Все параметры и директивы могут быть записаны как маленькими, так и
большими буквами. Строковые параметры должны быть заключены в кавычки.
Числовые параметры могут быть как десятичными, так и шестнадцатиричными
(начинаются с символа "#").

    Полученный в результате файл образа диска будет иметь тоже имя, что
и входной файл описания.

    Пример файла описания:

----------------------------------------------------------
;my disk

 EXTENDED "C_Feet1"

 binary "slava.exe","boot","B"
 binary "slava.dat","boot","C",50000

 hobeta "NICr_107.$B","niccy" ;basic
 hobeta "nICr_107.$2",,,16384 ;code
 hobeta "zxnews46.$b"

 binary "..\MUSIC\b_raven2.mus",,"M"

;end of disk

----------------------------------------------------------

    Надеюсь, данная программа поможет нашим софтмейкерам шире использовать
возможности РС при разработке спектрумовских игр и системных программ.
Программу рекомендуется использовать совместно с "Aссемблером 128 для Z80"
(asm80, v1.6 и выше) или с "Ассемблером 512 для Z80" (asm80win, v1.8Win
и выше). Специально для такого случая там был заранее предусмотрен ключ
*O (сохранить программу в виде бинарных блоков).

    Благодарности и замечания направляйте по адресу 2:5030/727.12, /362.4.

					  Всегда ваш, Вячеслав Медноногов.

						00:42, 17 марта 1999 года.


